<div *ngIf="stats$ | async as stats" class="sidebar">
    <h1>Fall Guy Stats</h1>
    <p class="byline">by @lealeelu and @leekydesu</p>
    <div class="content-block today-win-rate">
        <h2>Today</h2>
        <p>{{stats.todayStats.crownCount}} crowns / {{stats.todayStats.episodeCount}} episodes</p>
        <p>Winrate {{todayWinrate}}%</p>
        <p *ngIf="showCheaterCount">Cheaters: {{stats.todayStats.cheaterCount}}</p>
    </div>
    <div class="content-block season-win-rate">
        <h2>Season</h2>
        <p>{{stats.seasonStats.crownCount}} crowns / {{stats.seasonStats.episodeCount}} episodes</p>
        <p>Winrate {{seasonWinrate}}%</p>
        <p>Rounds Since Crown: {{stats.seasonStats.roundsSinceCrown}}</p>
        <p *ngIf="showCheaterCount">Cheaters: {{stats.seasonStats.cheaterCount}}</p>
    </div>
    <div *ngIf="stats.roundStats" class="content-block current-round">
        <h2>{{stats.currentRound}}</h2>
        <div class="icon-row">
            <table>
                <tr>
                    <td class="icon icon-hexagon icon-gold"></td>
                    <td class="badge-count">{{stats.roundStats.goldCount}}</td>
                    <td class="icon icon-hexagon icon-silver"></td>
                    <td class="badge-count">{{stats.roundStats.silverCount}}</td>
                    <td class="icon icon-hexagon icon-bronze"></td>
                    <td class="badge-count">{{stats.roundStats.bronzeCount}}</td>
                    <td class="icon icon-hexagon icon-pass"></td>
                    <td class="badge-count">{{stats.roundStats.qualifiedCount}}</td>
                    <td class="icon icon-hexagon icon-fail"></td>
                    <td class="badge-count">{{stats.roundStats.notQualifiedCount}}</td>
                </tr>
            </table>
        </div>
    </div>
    <div *ngIf="!stats.roundStats">
        <h2>No Round to Display :(</h2>
    </div>
    <div *ngIf="showLastEpisode">
        <h2>Last Episode</h2>
        <p></p>Crowns: {{lastEpisode.Fame}}
        
        <h2>Rounds</h2>
        <div *ngFor="let round of lastEpisode.Rounds; index as i">
            <p></p>Round {{i}} : {{round.roundCode}} ----------
            <p></p>Qualified: {{round.qualified}}
        </div>
    </div>
</div>

